
#------------------------------------------------------------
#	S E M A N T I Q U E   -   C L A S S
#------------------------------------------------------------

#------------------------------------------------------------
#	S Y N T A X
#------------------------------------------------------------

syntax extension jsonlikeql_syntax {
	
rule <class> {
	$identifier$ ?* ${$
		repeat
			<class_property>
		while
		$,$
		end
	$}$
}

rule <class_property> {

	$identifier$ ?* $:$
 
	@lstring typeName = .default
	<class_property_type> !? typeName
}

rule <class_property_type> ?!@lstring typeName{
	
	select 
		<primitive_name> !? typeName
	or
		$identifier$ ?let @lstring name

		# on cherche le type dans la table des classes enregistr√©es 

		typeName = name
	end
}
	
}

#------------------------------------------------------------
#	S E M A N T I Q U E   -   F U N C T I O N S
#------------------------------------------------------------